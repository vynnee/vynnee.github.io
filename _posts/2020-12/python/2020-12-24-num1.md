---
title: 모두의 데이터 분석 with 파이썬 01
layout: single
author_profile: true
read_time: true
comments: true
related: true
popular: true
categories:
- Data Analysis with Python
toc: true
toc_sticky: true
toc_label: 목차
description: 책 '모두의 데이터 분석 with 파이썬'의 공부 기록 페이지
Last_modified_at: 2020-12-27T00:00:00+08:00
---

![책 표지]({{ site.url }}{{ site.baseurl }}/assets/images/DAwP/01/pj.jpg){: .align-center .open-new} 
<br>
책 : 모두의 데이터 분석 with 파이썬<br>
저자 : 송석리, 이현아 지음<br>
출판사 : 길벗<br>

## 02 서울의 기온 데이터 분석하기

### (1) csv 파일에서 데이터 읽어오기
```python
import csv
f = open('seoul.csv', 'r', encoding='cp949')
data = csv.reader(f, delimiter = ',')
print(data)
f.close()
```
`csv.reader()` : CSV 파일에서 데이터를 읽어오는 함수<br>
`csv.writer()` : CSV 파일에 데이터를 저장하는 함수


### (2) 데이터 출력하기
```python
import csv
f = open('seoul.csv', encoding = 'cp949')
data = csv.reader(f)
for row in data :
    print(row)
f.close()
```
(1)에서는 `print(data)`로 파일에 저장된 데이터 전체를 출력했다면, 이번에는 한 줄씩 출력한다.<br>

![01]({{ site.url }}{{ site.baseurl }}/assets/images/DAwP/01/01.PNG){: .align-center .open-new} 

결과를 살펴보면 두 가지 포인트가 있다.<br>
첫 번째, **리스트**이다.<br>
두 번째, 각 행의 데이터가 작은따옴표로 둘러싸여 있다. 즉, `string` 임으로 `float` 등의 형태로 **변환**해주어야 한다.<br>


### (3) 헤더 저장하기
```python
import csv
f = open('seoul.csv')
data = csv.reader(f)
header = next(data)
print(header)
f.close()
```
`next()` 함수를 이용하여 데이터의 첫 번째 행을 `header`에 저장하고, 출력한다.<br>

![02]({{ site.url }}{{ site.baseurl }}/assets/images/DAwP/01/02.PNG){: .align-center .open-new} 

실행 결과, 첫 번째 행만 출력된다.<br>

```python
import csv
f = open('seoul.csv')
data = csv.reader(f)
header = next(data)
for row in data :
    print(row)
f.close()
```
이번에는 `for문`을 활용하여 첫 번째 행을 제외한 나머지 행만 출력하도록 한다.<br>
<br>

**실행 결과**
```
['1907-10-01', '108', '13.5', '7.9', '20.7']
(생략)
...
```
{: .notice--success}

### (4) 기온 공공데이터에 질문하기
(1) 데이터 분석은 내가 관심 있는 데이터에 대한 호기심에서 출발한다.
(2) 나와 직접적으로 관련이 있는 매력적인 데이터를 살펴보면 궁금증이 생긴다.
{: .notice}

즉, 데이터를 살펴보며 가설을 세워보자.<br>


## 03 서울이 가장 더웠던 날은 언제였을까
### (1) 질문 다듬기
**Question**<br>
서울이 가장 더웠던 날은 언제였을까? 얼마나 더웠을까?<br>
-> 기상 관측 이래, 서울의 최고 기온이 가장 높았던 날은 언제였고, 몇 도였을까?<br>
{: .notice--info}


### (2) 문제 해결 방법 구상하기
(1) 데이터를 읽어온다.
(2) 순차적으로 최고 기온을 확인한다.
(3) 최고 기온이 가장 높았던 날짜와 데이터를 저장한다.
(4) 최종 저장된 데이터를 출력한다.
{: .notice}


### (3) 파이썬 코드로 구현하기
```python
import csv
f = open('seoul.csv')
data = csv.reader(f)
header = next(data)
for row in data :
    print(row)
f.close()
```
실행 결과, 현재 최고 기온 데이터는 문자열이다. 따라서 float 형태로 변환해야 한다. `float()` 함수를 이용해보자.<br>

```python
import csv
f = open('seoul.csv')
data = csv.reader(f)
header = next(data)
for row in data :
    row[-1] = float(row[-1]) # 최고 기온을 실수로 변환
    print(row)
f.close()
```

**실행결과**<br>
```
['1950-08-31', '108', '25.4', '20.1', 32.5]<br>
---------------------------------------------------------------------------<br>
ValueError                                Traceback (most recent call last)<br>
<ipython-input-15-ac3bc99ec8ad> in <module><br>
      4 header = next(data)<br>
      5 for row in data :<br>
----> 6     row[-1] = float(row[-1]) # 최고 기온을 실수로 변환<br>
      7     print(row)<br>
      8 f.close()<br>

ValueError: could not convert string to float: <br>
```
1950년 9월 이후부터 오류가 발생했다. 데이터가 없기 때문이다. 따라서 대체할 특정 값을 넣어보자.

